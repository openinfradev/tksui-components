import{j as e}from"./jsx-runtime-vNq4Oc-g.js";import{r as n}from"./index-4g5l5LRQ.js";import{T as u}from"./TIcon-bZ1YQzj2.js";const _="360px";function p(a){const[s,i]=n.useState(!1),[l,o]=n.useState(!1),[g,c]=n.useState(_),d=n.useRef(null),h=n.useCallback(()=>{i(!1)},[]),x=t=>{t.stopPropagation();const r=m=>{const f=window.innerWidth-m.pageX;if(o(!0),f<=700){const j=d.current.getBoundingClientRect().x;c(`calc(100% - ${m.pageX-j}px)`)}f<=200&&(c(_),i(!1),document.removeEventListener("mousemove",r))},P=()=>{document.removeEventListener("mousemove",r),o(!1)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",P,{once:!0})},v=n.useMemo(()=>{const t=[];return a.className&&t.push(a.className),l&&t.push("t-page--resizing"),t.join(" ")},[l,a.className]),N=n.useMemo(()=>{const t=[];return s?t.push("t-page__information-area--visible"):t.push("t-page__information-area--invisible"),l&&t.push("t-page__information-area--resizing"),t.join(" ")},[s,l]);return n.useEffect(()=>{s&&(i(!0),o(!1))},[s]),e.jsxs("div",{className:`t-page ${v}`,style:a.style,ref:d,id:a.id,"data-testid":"t-page-root",children:[e.jsxs("div",{className:"t-page__content-container",children:[e.jsxs("div",{className:"t-page__title-area",children:[e.jsx("h3",{className:"t-page__title-area__title",children:a.title}),a.infoPanelContent&&e.jsx(u,{fill:!0,clickable:!0,onClick:()=>{i(!s)},children:"info"})]}),e.jsx("article",{className:"t-page__content-area",children:a.children})]}),a.infoPanelContent&&e.jsxs("div",{className:`t-page__information-area ${N}`,style:s?{flex:`0 0 ${g}`}:{},"data-testid":"t-page-information-area",children:[s&&e.jsx("div",{className:"t-page__information-area__resizer",onMouseDown:x,"data-testid":"t-page-information-area-resizer"}),e.jsxs("div",{className:"t-page__information-area__container",children:[e.jsx("div",{className:"t-page__information-area__header",children:e.jsx(u,{className:"t-page__information-area__header__close",clickable:!0,onClick:h,children:"close"})}),e.jsx("div",{className:"t-page__information-area__content",children:a.infoPanelContent})]})]})]})}try{p.displayName="TPage",p.__docgenInfo={description:"",displayName:"TPage",props:{title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},infoPanelContent:{defaultValue:null,description:"",name:"infoPanelContent",required:!1,type:{name:"ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{p as T};
