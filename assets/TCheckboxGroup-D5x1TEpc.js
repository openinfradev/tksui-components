import{j as n}from"./jsx-runtime-CKrituN3.js";import{r as l}from"./index-CBqU2yxZ.js";import{u as x}from"./UseValidator-XS2alT9g.js";import{T as g}from"./TCheckbox-U3fmWFcN.js";const i=l.forwardRef((e,d)=>{const t=x(e.value,e.rules,e.successMessage),r=l.useRef(null);l.useImperativeHandle(d,()=>({validate(){return t.validate()}}));const c=l.useMemo(()=>{const a=[];return e.className&&a.push(e.className),e.disabled&&a.push("t-checkbox-group--disabled"),t.result||a.push("t-checkbox-group--failure"),t.result&&t.message&&a.push("t-checkbox-group--success"),a.join(" ")},[e.className,e.disabled,t]),o=l.useMemo(()=>e.style||{},[e.style]),m=l.useCallback((a,u)=>{a===null?b(u):h(a)},[e.value]),f=l.useCallback(()=>{e.rules&&t.clearValidation()},[e.rules]),y=l.useCallback(a=>{const u=a.relatedTarget;e.rules&&!e.lazy&&!r.current.contains(u)&&t.validate()},[e.rules,e.lazy,t]),s=l.useCallback(a=>{e.onChange(a)},[e.onChange]),b=l.useCallback(a=>{s(e.value.filter(u=>u!==a))},[s]),h=l.useCallback(a=>{s([...e.value,a])},[s]);return n.jsxs("div",{className:`t-checkbox-group ${c}`,style:o,ref:r,tabIndex:e.disabled?-1:0,onFocus:f,onBlur:y,id:e.id,"data-testid":"t-checkbox-group-root",children:[n.jsx("div",{className:"t-checkbox-group__container",children:e.items.map((a,u)=>n.jsx(g,{positiveValue:a[e.valueKey],negativeValue:null,value:e.value.some(v=>v===a[e.valueKey])?a[e.valueKey]:null,onChange:m,disabled:e.disabled||a.disabled,children:e.labelTemplate?e.labelTemplate(a):a[e.textKey]},u))}),e.rules&&n.jsx("div",{className:"t-checkbox-group__message",children:t.message})]})});i.defaultProps={textKey:"text",valueKey:"value",lazy:!0};i.displayName="TCheckboxGroup";try{i.displayName="TCheckboxGroup",i.__docgenInfo={description:"",displayName:"TCheckboxGroup",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TCheckboxGroupValue"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"TCheckboxGroupItem[]"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},textKey:{defaultValue:{value:"text"},description:"",name:"textKey",required:!1,type:{name:"string"}},valueKey:{defaultValue:{value:"value"},description:"",name:"valueKey",required:!1,type:{name:"string"}},labelTemplate:{defaultValue:null,description:"",name:"labelTemplate",required:!1,type:{name:"(item: TCheckboxGroupItem) => string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: TCheckboxGroupValue) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},lazy:{defaultValue:{value:"true"},description:"",name:"lazy",required:!1,type:{name:"boolean"}},rules:{defaultValue:null,description:"",name:"rules",required:!1,type:{name:"((value: any) => string | true)[]"}},successMessage:{defaultValue:null,description:"",name:"successMessage",required:!1,type:{name:"string"}}}}}catch{}export{i as T};
