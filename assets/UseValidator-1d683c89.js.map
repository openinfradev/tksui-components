{"version":3,"file":"UseValidator-1d683c89.js","sources":["../../src/common/hook/UseValidator.ts"],"sourcesContent":["import {useState} from 'react';\nimport {TRadioGroupValue} from '../../components/input/radio-group/TRadioGroup.interface';\nimport {TCheckboxGroupValue} from '../../components/input/checkbox-group/TCheckboxGroup.interface';\nimport {TCheckboxValue} from '../../components/input/checkbox/TCheckbox.interface';\n\n\nexport default function useValidator(\n    target: string | number | boolean | TRadioGroupValue | TCheckboxGroupValue | TCheckboxValue,\n    rules?: ((v: any) => true | string)[],\n    successMessage?: string,\n    initialResult = true,\n) {\n    const [result, setResult] = useState(initialResult);\n    const [message, setMessage] = useState('');\n    \n    const validate = (): true | string => {\n        try {\n            rules?.forEach((rule) => {\n                const resultOfRule = rule(target);\n                if (resultOfRule !== true) {\n                    throw Error(resultOfRule);\n                }\n            });\n        } catch (err) {\n            if (err instanceof Error) {\n                setMessage(err.message);\n                setResult(false);\n                return err.message;\n            }\n        }\n        setMessage(successMessage || '');\n        setResult(true);\n        \n        return true;\n    };\n    \n    const manualValidate = (manualResult: boolean, manualMessage?: string): void => {\n        setResult(manualResult);\n        if (manualMessage) {\n            setMessage(manualMessage);\n        }\n    };\n    \n    const clearValidation = () => {\n        setMessage('');\n        setResult(true);\n    };\n    \n    return {result, message, validate, clearValidation, manualValidate};\n}\n"],"names":["useValidator","target","rules","successMessage","initialResult","result","setResult","useState","message","setMessage","rule","resultOfRule","err","manualResult","manualMessage"],"mappings":"wCAMA,SAAwBA,EACpBC,EACAC,EACAC,EACAC,EAAgB,GAClB,CACE,KAAM,CAACC,EAAQC,CAAS,EAAIC,WAASH,CAAa,EAC5C,CAACI,EAASC,CAAU,EAAIF,WAAS,EAAE,EAmCzC,MAAO,CAAC,OAAAF,EAAQ,QAAAG,EAAS,SAjCR,IAAqB,CAC9B,GAAA,CACON,GAAA,MAAAA,EAAA,QAASQ,GAAS,CACf,MAAAC,EAAeD,EAAKT,CAAM,EAChC,GAAIU,IAAiB,GACjB,MAAM,MAAMA,CAAY,CAC5B,SAECC,EAAK,CACV,GAAIA,aAAe,MACf,OAAAH,EAAWG,EAAI,OAAO,EACtBN,EAAU,EAAK,EACRM,EAAI,OAEnB,CACA,OAAAH,EAAWN,GAAkB,EAAE,EAC/BG,EAAU,EAAI,EAEP,EAAA,EAewB,gBALX,IAAM,CAC1BG,EAAW,EAAE,EACbH,EAAU,EAAI,CAAA,EAGkC,eAZ7B,CAACO,EAAuBC,IAAiC,CAC5ER,EAAUO,CAAY,EAClBC,GACAL,EAAWK,CAAa,CAC5B,CAQ8D,CACtE"}