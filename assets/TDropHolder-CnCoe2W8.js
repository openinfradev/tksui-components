import{j as n}from"./jsx-runtime-CKrituN3.js";import{r as l}from"./index-CBqU2yxZ.js";import{u as C}from"./UseClickOutside-Bbiir3uY.js";const o=l.forwardRef((e,f)=>{var c;const[r,s]=l.useState(!1),m=l.useRef(null);C(m,()=>i()),l.useImperativeHandle(f,()=>({open(){u()},close(){i()}}));const h=l.useMemo(()=>{const t=[];return e.className&&t.push(e.className),r&&t.push("t-drop-holder--open"),t.join(" ")},[e.className,r]),g=l.useCallback(t=>{const a=[];return t.disabled&&a.push("t-drop-holder__items__item--disabled"),t.divideSection&&a.push("t-drop-holder__items__item--divider"),a.join(" ")},[]),y=l.useMemo(()=>{let t={};return e.style&&(t={...t,...e.style}),t},[e.style]),_=l.useMemo(()=>e.alignment==="top-left"?{top:`calc(0px - ${e.offset})`,left:"0"}:e.alignment==="top-center"?{top:`calc(0px - ${e.offset})`,left:"50%"}:e.alignment==="top-right"?{top:`calc(0px - ${e.offset})`,right:"0"}:e.alignment==="bottom-left"?{top:`calc(100% + ${e.offset})`,left:"0"}:e.alignment==="bottom-center"?{top:`calc(100% + ${e.offset})`,left:"50%"}:e.alignment==="bottom-right"?{top:`calc(100% + ${e.offset})`,right:"0"}:{top:"100%",right:"0"},[e.alignment,e.offset]),d=l.useMemo(()=>e.alignment==="top-left"?{transform:"translateY(-100%) translateX(0)"}:e.alignment==="top-center"?{transform:"translateY(-100%) translateX(-50%)"}:e.alignment==="top-right"?{transform:"translateY(-100%) translateX(-100%)"}:e.alignment==="bottom-left"?{transform:"translateX(0)"}:e.alignment==="bottom-center"?{transform:"translateX(-50%)"}:e.alignment==="bottom-right"?{transform:"translateX(-100%)"}:{transform:"translateX(-50%)"},[e.alignment]),x=()=>{r?i():u()},v=(t,a)=>{t.stopPropagation(),a&&a(t),i()},u=()=>{var t;s(!0),(t=e.onOpen)==null||t.call(e)},i=()=>{var t;s(!1),(t=e.onClose)==null||t.call(e)},N=l.useCallback(t=>t.itemTemplate?t.itemTemplate(t):e.itemTemplate?e.itemTemplate(t):n.jsx("div",{children:t[e.textKey]}),[e]);return n.jsxs("div",{className:`t-drop-holder ${h}`,style:y,id:e.id,ref:m,onClick:x,"data-testid":"drop-holder-root",children:[n.jsx("div",{className:"t-drop-holder__anchor",style:_,"data-testid":"drop-holder-anchor",children:r&&(e.customItem?n.jsx("div",{className:"t-drop-holder__items t-drop-holder__items--custom",style:d,children:e.customItem}):n.jsx("div",{className:"t-drop-holder__items",style:d,children:(c=e.items)==null?void 0:c.map((t,a)=>n.jsx("div",{className:`t-drop-holder__items__item ${g(t)}`,onClick:b=>v(b,t.onClick),children:N(t)},a))}))}),n.jsx("div",{className:"t-drop-holder__holder","data-testid":"drop-holder-holder",children:e.children})]})});o.defaultProps={alignment:"bottom-center",textKey:"text",offset:"4px"};o.displayName="TDropHolder";try{o.displayName="TDropHolder",o.__docgenInfo={description:"",displayName:"TDropHolder",props:{alignment:{defaultValue:{value:"'bottom-center' as DropHolderAlignment"},description:"",name:"alignment",required:!1,type:{name:"enum",value:[{value:'"top-left"'},{value:'"top-center"'},{value:'"top-right"'},{value:'"bottom-left"'},{value:'"bottom-center"'},{value:'"bottom-right"'}]}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"TDropHolderItem[]"}},itemTemplate:{defaultValue:null,description:"",name:"itemTemplate",required:!1,type:{name:"(item: TDropHolderItem) => ReactNode"}},textKey:{defaultValue:{value:"text"},description:"",name:"textKey",required:!1,type:{name:"string"}},customItem:{defaultValue:null,description:"",name:"customItem",required:!1,type:{name:"ReactNode"}},offset:{defaultValue:{value:"4px"},description:"",name:"offset",required:!1,type:{name:"string"}},onOpen:{defaultValue:null,description:"",name:"onOpen",required:!1,type:{name:"() => void"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"() => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{o as T};
