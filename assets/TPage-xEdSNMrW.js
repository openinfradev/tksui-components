import{j as e}from"./jsx-runtime-vNq4Oc-g.js";import{r as t}from"./index-4g5l5LRQ.js";import{T as u}from"./TIcon-4O00LWfy.js";const _="360px";function p(n){const[s,i]=t.useState(!1),[l,o]=t.useState(!1),[g,c]=t.useState(_),d=t.useRef(null),h=t.useCallback(()=>{i(!1)},[]),x=a=>{a.stopPropagation();const r=m=>{const f=window.innerWidth-m.pageX;if(o(!0),f<=700){const j=d.current.getBoundingClientRect().x;c(`calc(100% - ${m.pageX-j}px)`)}f<=200&&(c(_),i(!1),document.removeEventListener("mousemove",r))},P=()=>{document.removeEventListener("mousemove",r),o(!1)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",P,{once:!0})},v=t.useMemo(()=>{const a=[];return n.className&&a.push(n.className),l&&a.push("t-page--resizing"),a.join(" ")},[l,n.className]),N=t.useMemo(()=>{const a=[];return s?a.push("t-page__information-area--visible"):a.push("t-page__information-area--invisible"),l&&a.push("t-page__information-area--resizing"),a.join(" ")},[s,l]);return t.useEffect(()=>{s&&(i(!0),o(!1))},[s]),e.jsxs("div",{className:`t-page ${v}`,style:n.style,ref:d,children:[e.jsxs("div",{className:"t-page__content-container",children:[e.jsxs("div",{className:"t-page__title-area",children:[e.jsx("h3",{className:"t-page__title-area__title",children:n.title})," ",s,n.infoPanelContent&&e.jsx(u,{fill:!0,clickable:!0,onClick:()=>{i(!s)},children:"info"})]}),e.jsx("article",{className:"t-page__content-area",children:n.children})]}),n.infoPanelContent&&e.jsxs("div",{className:`t-page__information-area ${N}`,style:s?{flex:`0 0 ${g}`}:{},children:[e.jsx("div",{className:"t-page__information-area__resizer",onMouseDown:x}),e.jsxs("div",{className:"t-page__information-area__container",children:[e.jsx("div",{className:"t-page__information-area__header",children:e.jsx(u,{className:"t-page__information-area__header__close",clickable:!0,onClick:h,children:"close"})}),e.jsx("div",{className:"t-page__information-area__content",children:n.infoPanelContent})]})]})]})}try{p.displayName="TPage",p.__docgenInfo={description:"",displayName:"TPage",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"{ [key: string]: string; }"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},isInfoPanelOpened:{defaultValue:null,description:"",name:"isInfoPanelOpened",required:!1,type:{name:"boolean"}},infoPanelContent:{defaultValue:null,description:"",name:"infoPanelContent",required:!1,type:{name:"ReactNode"}}}}}catch{}export{p as T};
