import{j as s}from"./jsx-runtime-ffb262ed.js";import{r as i}from"./index-76fb7be0.js";import{T as V}from"./TIcon-09805f2a.js";import{u as g}from"./UseValidator-1d683c89.js";const u=i.forwardRef((e,r)=>{const l=g(e.value,e.rules,e.successMessage),o=i.useRef(null),c=i.useRef(null);i.useEffect(y,[e.value,e.indeterminate,e.checked,e.positiveValue]);const[t,n]=i.useState("uncheck");i.useImperativeHandle(r,()=>({focus(){var a;(a=c==null?void 0:c.current)==null||a.focus()},validate(){return l.validate()}}));function f(){const a=[];return e.className&&a.push(e.className),e.disabled&&a.push("t-checkbox--disabled"),l.result||a.push("t-checkbox--failure"),l.result&&l.message&&a.push("t-checkbox--success"),a.join(" ")}function m(){let a={};return e.style&&(a={...e.style}),a}function h(){d()}function k(){e.lazy||l.validate()}function b(a){(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),d())}function d(){typeof e.onChange=="function"&&(t==="check"?e.onChange(e.negativeValue,e.positiveValue):e.onChange(e.positiveValue))}function y(){e.checked===!0?n("check"):e.checked===!1?n("uncheck"):e.indeterminate?n("indeterminate"):e.value===e.positiveValue?n("check"):n("uncheck")}function v(){let a;if(t==="indeterminate")a="t_check_intermediate";else if(t==="check")a="t_check_on";else if(t==="uncheck"&&e.disabled)a="t_check_disabled_off";else if(t==="uncheck"&&!e.disabled)a="t_check_off";else throw Error("Invalid status");return s.jsx(V,{small:!0,fill:!0,className:`t-checkbox__icon t-checkbox__icon--${t}`,children:a})}return s.jsxs("div",{ref:o,className:`t-checkbox ${f()}`,id:e.id,"data-testid":"t-checkbox-root",style:m(),children:[s.jsxs("div",{ref:c,className:"t-checkbox__container",tabIndex:e.disabled?-1:0,onFocus:l.clearValidation,onBlur:k,onKeyDown:b,onClick:h,"data-testid":"t-checkbox-container",children:[v(),s.jsx("span",{className:"t-checkbox__label",children:e.children})]}),e.rules&&s.jsx("div",{className:"t-checkbox__message",children:l.message})]})});u.defaultProps={positiveValue:!0,negativeValue:!1,checked:null,lazy:!0};u.displayName="TCheckbox";try{u.displayName="TCheckbox",u.__docgenInfo={description:"",displayName:"TCheckbox",props:{label:{defaultValue:null,description:"@deprecated This prop will be removed in release v1.0.0",name:"label",required:!1,type:{name:"Element"}},value:{defaultValue:null,description:"",name:"value",required:!1,type:{name:"TCheckboxValue"}},checked:{defaultValue:{value:"null"},description:"",name:"checked",required:!1,type:{name:"boolean"}},indeterminate:{defaultValue:null,description:"",name:"indeterminate",required:!1,type:{name:"boolean"}},positiveValue:{defaultValue:{value:"true"},description:"",name:"positiveValue",required:!1,type:{name:"string | boolean"}},negativeValue:{defaultValue:{value:"false"},description:"",name:"negativeValue",required:!1,type:{name:"string | boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"(value: string | boolean, positiveValue?: string | boolean) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},lazy:{defaultValue:{value:"true"},description:"",name:"lazy",required:!1,type:{name:"boolean"}},rules:{defaultValue:null,description:"",name:"rules",required:!1,type:{name:"((value: any) => string | true)[]"}},successMessage:{defaultValue:null,description:"",name:"successMessage",required:!1,type:{name:"string"}}}}}catch{}export{u as T};
