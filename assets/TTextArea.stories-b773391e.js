import{j as a}from"./jsx-runtime-ffb262ed.js";import{r as s}from"./index-76fb7be0.js";import{u as L,T as i}from"./UseRefs-3912494c.js";import{u as c}from"./UseInputState-38eb87e9.js";import{T as O}from"./TButton-aead8822.js";import{u as F}from"./UseValidator-1d683c89.js";import"./_commonjsHelpers-de833af9.js";import"./UseRipple-565834b6.js";import"./TIcon-06114f05.js";const l=s.forwardRef((e,u)=>{var V;const[n,d]=s.useState(!1),r=F(e.value,e.rules,e.successMessage),o=s.useRef(null);s.useImperativeHandle(u,()=>({focus(){var t;(t=o==null?void 0:o.current)==null||t.focus()},validate(){return r.validate()}}));const j=s.useCallback(t=>{if(e.counter&&t.target.value.length>e.counter){e.onChange(t.target.value.substring(0,e.counter));return}e.onChange(t.target.value)},[e]),m=s.useCallback(()=>{r.clearValidation(),d(!0)},[r]),f=s.useCallback(()=>{e.lazy||r.validate(),d(!1)},[e.lazy,r]),x=s.useCallback(t=>{t.key==="Enter"&&e.onKeyDownEnter&&e.onKeyDownEnter(t),e.onKeyDown&&e.onKeyDown(t)},[e]),y=s.useMemo(()=>{const t=[];return e.className&&t.push(e.className),e.disabled&&t.push("t-text-area--disabled"),r.result||t.push("t-text-area--failure"),n&&t.push("t-text-area--focused"),r.result&&r.message&&t.push("t-text-area--success"),t.push(`t-text-area--${e.type}`),t.join(" ")},[e.className,e.disabled,e.type,r.result,r.message,n]),h=s.useMemo(()=>{const t=[];return e.required&&t.push("t-text-area__label--required"),t.join(" ")},[e.required]),g=s.useMemo(()=>{let t={};return e.style&&(t={...e.style}),e.width&&(t={...t,width:e.width}),t},[e.style,e.width]),_=s.useMemo(()=>{const t=[];return e.disabled&&t.push("t-text-area__container__input--disabled"),t.join(" ")},[e.disabled]),q=s.useMemo(()=>e.label&&!n||e.disabled?"":e.placeholder,[e.label,n,e.disabled,e.placeholder]);return a.jsxs("div",{className:`t-text-area ${y}`,style:g,children:[e.label&&a.jsx("label",{className:`t-text-area__label ${h}`,children:e.label}),a.jsx("div",{className:"t-text-area__container",children:a.jsx("textarea",{ref:o,tabIndex:e.disabled?-1:0,className:`t-text-area__container__input ${_}`,disabled:e.disabled,placeholder:q,value:e.value,rows:e.rows,onChange:j,onKeyDown:x,onBlur:f,onFocus:m})}),a.jsxs("div",{className:"t-text-area__details",children:[a.jsx("div",{className:"t-text-area__details__message",children:r.message&&`${r.message}`}),a.jsx("div",{className:"t-text-area__details__counter",children:e.counter&&!e.disabled&&`${(V=e.value)==null?void 0:V.length} / ${e.counter}`})]})]})});l.defaultProps={type:"outline",rows:5,lazy:!0};l.displayName="TTextArea";try{l.displayName="TTextArea",l.__docgenInfo={description:"",displayName:"TTextArea",props:{type:{defaultValue:{value:"outline"},description:"",name:"type",required:!1,type:{name:"enum",value:[{value:'"outline"'},{value:'"underline"'}]}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:"",name:"required",required:!1,type:{name:"boolean"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}},label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},counter:{defaultValue:null,description:"",name:"counter",required:!1,type:{name:"number"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"string"}},rows:{defaultValue:{value:"5"},description:"",name:"rows",required:!1,type:{name:"number"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},onKeyDown:{defaultValue:null,description:"",name:"onKeyDown",required:!1,type:{name:"(event: KeyboardEvent<HTMLTextAreaElement>) => void"}},onKeyDownEnter:{defaultValue:null,description:"",name:"onKeyDownEnter",required:!1,type:{name:"(event: KeyboardEvent<HTMLTextAreaElement>) => void"}},lazy:{defaultValue:{value:"true"},description:"",name:"lazy",required:!1,type:{name:"boolean"}},rules:{defaultValue:null,description:"",name:"rules",required:!1,type:{name:"((value: any) => string | true)[]"}},successMessage:{defaultValue:null,description:"",name:"successMessage",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}}}}}catch{}const Y={title:"Input/TTextArea",component:l},$=e=>{const[u,n]=s.useState(""),d={width:"500px",border:"1px solid lightgray",padding:"16px",marginTop:"16px",display:"flex",flexDirection:"column",gap:"16px"};return a.jsx(a.Fragment,{children:a.jsx("div",{style:{display:"flex",gap:"24px"},children:a.jsxs("div",{children:[a.jsx("span",{style:{fontSize:"20px"},children:"Normal, 일반 웹페이지"}),a.jsxs("div",{style:d,children:[a.jsx(l,{...e,value:u,onChange:n,label:"무옵션"}),a.jsx(l,{...e,value:u,onChange:n,label:"Placeholder",placeholder:"설명을 입력해주세요"}),a.jsx(l,{...e,value:u,onChange:n,label:"Counter",counter:200}),a.jsx(l,{...e,value:u,onChange:n,label:"Read-only",disabled:!0}),a.jsx(l,{...e,value:u,onChange:n,label:"너비-400",width:"400px"}),a.jsx(l,{...e,value:u,onChange:n,label:"너비-300",width:"300px"}),a.jsx(l,{...e,value:u,onChange:n,label:"너비-200",width:"200px"})]})]})})})},b={render:$,args:{type:"outline",rows:4}},p={render:$,args:{type:"underline",rows:4}},k=e=>{const u=c(""),n=c(""),d=c(""),r=c(""),o=c(""),j=c(""),[m,f,x,y,h,g]=L(6),_={width:"500px",border:"1px solid lightgray",padding:"16px",marginTop:"16px",display:"flex",flexDirection:"column",gap:"16px"},q=()=>{m.current.validate(),f.current.validate(),x.current.validate(),y.current.validate(),h.current.validate(),g.current.validate()};return a.jsxs(a.Fragment,{children:[a.jsx(O,{main:!0,onClick:q,children:"검사"}),a.jsx("div",{style:{display:"flex",gap:"24px"},children:a.jsxs("div",{style:_,children:[a.jsx(l,{...e,label:"Outline Default",rules:[i.required(),i.lengthBetween(3,12)],...u,ref:m,placeholder:"값을 입력해 주세요",counter:12}),a.jsx(l,{...e,label:"Outline Custom Long Message",rules:[i.required("에러 메시지가 길면 벽에 닿아서 말 줄임표로 표현됩니다. 에러 메시지가 길면 벽에 닿아서 말 줄임표로 표현됩니다."),i.lengthBetween(3,12)],...n,ref:f,counter:12}),a.jsx(l,{...e,label:"Outline Success Message",rules:[i.required(),i.lengthBetween(3,12)],counter:12,...d,ref:x,successMessage:"사용할 수 있는 아이디입니다"}),a.jsx(l,{...e,label:"Underline Default",rules:[i.required(),i.lengthBetween(3,12)],counter:12,...r,ref:y,type:"underline"}),a.jsx(l,{...e,label:"Underline Custom Long Message",rules:[i.required("에러 메시지가 길면 벽에 닿아서 말 줄임표로 표현됩니다. 에러 메시지가 길면 벽에 닿아서 말 줄임표로 표현됩니다."),i.lengthBetween(3,12)],counter:12,...o,ref:h,type:"underline"}),a.jsx(l,{...e,label:"Underline Success Message",rules:[i.required(),i.lengthBetween(3,12)],counter:12,successMessage:"사용할 수 있는 아이디입니다",...j,ref:g,type:"underline"})]})})]})},v={render:k,args:{lazy:!1,required:!0}},w={render:k,args:{lazy:!0,required:!0}};var T,C,A;b.parameters={...b.parameters,docs:{...(T=b.parameters)==null?void 0:T.docs,source:{originalSource:`{
  render: NormalTemplate,
  args: {
    type: 'outline',
    rows: 4
  }
}`,...(A=(C=b.parameters)==null?void 0:C.docs)==null?void 0:A.source}}};var N,z,M;p.parameters={...p.parameters,docs:{...(N=p.parameters)==null?void 0:N.docs,source:{originalSource:`{
  render: NormalTemplate,
  args: {
    type: 'underline',
    rows: 4
  }
}`,...(M=(z=p.parameters)==null?void 0:z.docs)==null?void 0:M.source}}};var S,D,E;v.parameters={...v.parameters,docs:{...(S=v.parameters)==null?void 0:S.docs,source:{originalSource:`{
  render: ValidationTemplate,
  args: {
    lazy: false,
    required: true
  }
}`,...(E=(D=v.parameters)==null?void 0:D.docs)==null?void 0:E.source}}};var K,R,B;w.parameters={...w.parameters,docs:{...(K=w.parameters)==null?void 0:K.docs,source:{originalSource:`{
  render: ValidationTemplate,
  args: {
    lazy: true,
    required: true
  }
}`,...(B=(R=w.parameters)==null?void 0:R.docs)==null?void 0:B.source}}};const Z=["Outline","Underline","Validation","LazyValidation"];export{w as LazyValidation,b as Outline,p as Underline,v as Validation,Z as __namedExportsOrder,Y as default};
//# sourceMappingURL=TTextArea.stories-b773391e.js.map
