{"version":3,"file":"TInputValidationHint.stories-f6f7159d.js","sources":["../../src/components/guide/input-validation-hint/TInputValidationHint.tsx"],"sourcesContent":["import {CSSProperties, forwardRef, Ref, useCallback, useEffect, useImperativeHandle, useMemo, useState} from 'react';\nimport {\n    TInputValidationHintProps, TInputValidationHintRef,\n    TInputValidationHintRuleVO,\n} from './TInputValidationHint.interface';\n\n\nconst TInputValidationHint = forwardRef((props: TInputValidationHintProps, ref: Ref<TInputValidationHintRef>) => {\n\n    // region [Hooks]\n\n    const [validationResult, setValidationResult] = useState<TInputValidationHintRuleVO[]>([]);\n\n\n    useImperativeHandle(ref, () => ({\n        manualValidate() {\n            validate();\n        },\n    }));\n\n\n    // endregion\n\n\n    // region [Styles]\n\n    const rootClass: string = useMemo((): string => {\n        const clazz: string[] = [];\n\n        if (props.className) { clazz.push(props.className); }\n\n        return clazz.join(' ');\n    }, [props.className]);\n\n    const ruleItemClass = useCallback((result: boolean): string => {\n        if (result) {\n            return 't-input-validation-hint__rules__item--valid';\n        }\n        return 't-input-validation-hint__rules__item--invalid';\n\n    }, []);\n\n    const rootStyle: CSSProperties = useMemo(() => {\n        let style: CSSProperties = {};\n\n        if (props.style) { style = {...props.style}; }\n\n        return style;\n    }, [props.style]);\n\n    const validate = useCallback(() => {\n        const result: TInputValidationHintRuleVO[] = props.rules.reduce((previous, current) => {\n            return [\n                ...previous,\n                {...current, result: current.rule(props.value)},\n            ];\n        }, []);\n\n        setValidationResult(result);\n    }, [props.rules, props.value]);\n\n\n    // endregion\n\n\n    // region [Effect]\n\n    useEffect(() => {\n        validate();\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.value]);\n\n    // endregion\n\n    return (\n        <div className={`t-input-validation-hint ${rootClass}`}\n             style={rootStyle}\n        >\n\n            {\n                props.description && (\n                    <div className={'t-input-validation-hint__description'}>\n                        {props.description}\n                    </div>\n                )\n            }\n\n            <ul className={'t-input-validation-hint__rules'}>\n                {\n                    validationResult.map((rule, index) => {\n                        return (\n                            <div key={index}\n                                 className={`t-input-validation-hint__rules__item ${ruleItemClass(rule.result)}`}>\n                                {rule.description} ({rule.result ? 'O' : 'X'})\n                            </div>\n                        );\n                    })\n                }\n            </ul>\n\n        </div>\n    );\n});\n\nTInputValidationHint.displayName = 'TInputValidationHint';\n\nexport default TInputValidationHint;\n"],"names":["TInputValidationHint","forwardRef","props","ref","validationResult","setValidationResult","useState","useImperativeHandle","validate","rootClass","useMemo","clazz","ruleItemClass","useCallback","result","rootStyle","style","previous","current","useEffect","jsxs","jsx","rule","index"],"mappings":"wQAOA,MAAAA,EAAAC,EAAA,WAAA,CAAAC,EAAAC,IAAA,CAII,KAAA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,CAAA,CAAA,EAGAC,EAAA,oBAAAJ,EAAA,KAAA,CAAgC,gBAAA,CAExBK,GAAS,CACb,EAAA,EASJ,MAAAC,EAAAC,EAAAA,QAAA,IAAA,CACI,MAAAC,EAAA,CAAA,EAEA,OAAAT,EAAA,WAAuBS,EAAA,KAAAT,EAAA,SAAA,EAEvBS,EAAA,KAAA,GAAA,CAAqB,EAAA,CAAAT,EAAA,SAAA,CAAA,EAGzBU,EAAAC,cAAAC,GACIA,EACI,8CAEJ,gDAAO,CAAA,CAAA,EAIXC,EAAAL,EAAAA,QAAA,IAAA,CACI,IAAAM,EAAA,CAAA,EAEA,OAAAd,EAAA,QAAmBc,EAAA,CAAA,GAAAd,EAAA,QAEnBc,CAAO,EAAA,CAAAd,EAAA,KAAA,CAAA,EAGXM,EAAAK,EAAAA,YAAA,IAAA,CACI,MAAAC,EAAAZ,EAAA,MAAA,OAAA,CAAAe,EAAAC,IACI,CAAO,GAAAD,EACA,CAAA,GAAAC,EAAA,OAAAA,EAAA,KAAAhB,EAAA,KAAA,CAAA,CAC2C,EAClD,CAAA,CAAA,EAGJG,EAAAS,CAAA,CAA0B,EAAA,CAAAZ,EAAA,MAAAA,EAAA,KAAA,CAAA,EAS9BiB,OAAAA,EAAAA,UAAA,IAAA,CACIX,GAAS,EAAA,CAAAN,EAAA,KAAA,CAAA,EAObkB,EAAA,KACI,MAAC,CAAA,UAAA,2BAAAX,CAAA,GAAmD,MAAAM,EACxC,SAAA,CAIJb,EAAA,aAAAmB,EAAA,IAAA,MAAA,CAAA,UAAA,uCAAA,SAAAnB,EAAA,YAAA,EAGImB,MAAA,KAAA,CAAA,UAAA,iCAAA,SAAAjB,EAAA,IAAA,CAAAkB,EAAAC,IAOIH,EAAA,KACI,MAAC,CAAA,UAAA,wCAAAR,EAAAU,EAAA,MAAA,CAAA,GACiF,SAAA,CAC7EA,EAAA,YAAK,KAAYA,EAAA,OAAA,IAAA,IAAuB,GAAI,CAAA,EAAAC,CAFvC,CAGV,EAAA,CAIhB,CAAA,CAAA,CAIZ,CAAA,EAEAvB,EAAA,YAAA;;"}