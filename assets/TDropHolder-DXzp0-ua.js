import{j as l}from"./jsx-runtime-CKrituN3.js";import{r as a}from"./index-CBqU2yxZ.js";import{u as T}from"./UseClickOutside-Bbiir3uY.js";import{T as b}from"./TIcon-DX3nHo9a.js";import{t as C}from"./ThemeToken.module-BX06fUfM.js";const o=a.forwardRef((e,f)=>{var u;const[r,s]=a.useState(!1),m=a.useRef(null);T(m,()=>i()),a.useImperativeHandle(f,()=>({open(){c()},close(){i()}}));const h=a.useMemo(()=>{const t=[];return e.className&&t.push(e.className),r&&t.push("t-drop-holder--open"),t.join(" ")},[e.className,r]),_=a.useCallback(t=>{const n=[];return t.disabled&&n.push("t-drop-holder__items__item--disabled"),t.divideSection&&n.push("t-drop-holder__items__item--divider"),n.join(" ")},[]),g=a.useMemo(()=>{let t={};return e.style&&(t={...t,...e.style}),t},[e.style]),y=a.useMemo(()=>e.alignment==="top-left"?{top:`calc(0px - ${e.offset})`,left:"0"}:e.alignment==="top-center"?{top:`calc(0px - ${e.offset})`,left:"50%"}:e.alignment==="top-right"?{top:`calc(0px - ${e.offset})`,right:"0"}:e.alignment==="bottom-left"?{top:`calc(100% + ${e.offset})`,left:"0"}:e.alignment==="bottom-center"?{top:`calc(100% + ${e.offset})`,left:"50%"}:e.alignment==="bottom-right"?{top:`calc(100% + ${e.offset})`,right:"0"}:{top:"100%",right:"0"},[e.alignment,e.offset]),d=a.useMemo(()=>e.alignment==="top-left"?{transform:"translateY(-100%) translateX(0)"}:e.alignment==="top-center"?{transform:"translateY(-100%) translateX(-50%)"}:e.alignment==="top-right"?{transform:"translateY(-100%) translateX(-100%)"}:e.alignment==="bottom-left"?{transform:"translateX(0)"}:e.alignment==="bottom-center"?{transform:"translateX(-50%)"}:e.alignment==="bottom-right"?{transform:"translateX(-100%)"}:{transform:"translateX(-50%)"},[e.alignment]),x=()=>{r?i():c()},v=(t,n)=>{t.stopPropagation(),n&&n(t),i()},c=()=>{var t;s(!0),(t=e.onOpen)==null||t.call(e)},i=()=>{var t;s(!1),(t=e.onClose)==null||t.call(e)},N=a.useCallback(t=>t.itemTemplate?t.itemTemplate(t):e.itemTemplate?e.itemTemplate(t):l.jsxs(l.Fragment,{children:[t.icon&&l.jsx(b,{className:"t-drop-holder__items__item__icon",small:!0,color:C.tGrayColor5,children:t.icon}),l.jsx("span",{className:"t-drop-holder__items__item__text",children:t[e.textKey]})]}),[e]);return l.jsxs("div",{className:`t-drop-holder ${h}`,style:g,id:e.id,ref:m,onClick:x,"data-testid":"drop-holder-root",children:[l.jsx("div",{className:"t-drop-holder__anchor",style:y,"data-testid":"drop-holder-anchor",children:r&&(e.customItem?l.jsx("div",{className:"t-drop-holder__items t-drop-holder__items--custom",style:d,children:e.customItem}):l.jsxs("ul",{className:"t-drop-holder__items",style:d,children:[e.title&&l.jsx("div",{className:"t-drop-holder__items__title","data-testid":"drop-holder-title",children:e.title}),(u=e.items)==null?void 0:u.map((t,n)=>l.jsx("li",{className:`t-drop-holder__items__item ${_(t)}`,onClick:p=>v(p,t.onClick),children:N(t)},n))]}))}),l.jsx("div",{className:"t-drop-holder__holder","data-testid":"drop-holder-holder",children:e.children})]})});o.defaultProps={alignment:"bottom-center",textKey:"text",offset:"4px"};o.displayName="TDropHolder";try{o.displayName="TDropHolder",o.__docgenInfo={description:"",displayName:"TDropHolder",props:{alignment:{defaultValue:{value:"'bottom-center' as DropHolderAlignment"},description:"",name:"alignment",required:!1,type:{name:"enum",value:[{value:'"top-right"'},{value:'"top-center"'},{value:'"top-left"'},{value:'"bottom-right"'},{value:'"bottom-center"'},{value:'"bottom-left"'}]}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"TDropHolderItem[]"}},itemTemplate:{defaultValue:null,description:"",name:"itemTemplate",required:!1,type:{name:"(item: TDropHolderItem) => ReactNode"}},textKey:{defaultValue:{value:"text"},description:"",name:"textKey",required:!1,type:{name:"string"}},customItem:{defaultValue:null,description:"",name:"customItem",required:!1,type:{name:"ReactNode"}},offset:{defaultValue:{value:"4px"},description:"",name:"offset",required:!1,type:{name:"string"}},onOpen:{defaultValue:null,description:"",name:"onOpen",required:!1,type:{name:"() => void"}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"() => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{o as T};
