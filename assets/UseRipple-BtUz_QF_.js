import{r as y}from"./index-4g5l5LRQ.js";import{u as R}from"./uniqueId-M9xs3r9t.js";function $(e,s){const r=e.startsWith("rgba"),a=e.match(/\d+(\.\d+)?/g).map(Number),l=r?a.pop():1,t=a.map(n=>Math.max(0,n-n*(s/100)));return r?`rgba(${t.join(",")},${l})`:`rgb(${t.join(",")})`}function k(e,s){const r=e.startsWith("rgba"),a=e.match(/\d+(\.\d+)?/g).map(Number),l=r?a.pop():1,t=a.map(n=>Math.min(255,n+(255-n)*(s/100)));return r?`rgba(${t.join(",")},${l})`:`rgb(${t.join(",")})`}const B={shadeColor:$,tintColor:k},x={uniqueId:R},g="t-ripple",j="span",G=e=>{const s=y.useRef("off"),r=y.useRef();return{register:t=>{if(t.type.includes("key")){const c=t;if(c.key!=="Enter"&&c.key!==" ")return;const o=t.target.getElementsByClassName(g);if(s.current==="on"||(o==null?void 0:o.length)>0)return}s.current="on";const n=x.uniqueId(`${g}-`);r.current=new Promise(c=>{const{x:i,y:o,width:p,height:u}=e.current.getBoundingClientRect(),{clientX:f=i+p/2,clientY:C=o+u/2}=t,m=Math.sqrt(p*p+u*u),d=document.createElement(j);d.classList.add(g),d.classList.add(n);const E=window.getComputedStyle(e.current).getPropertyValue("background-color"),h={position:"absolute",top:`${(C-o-m)/u*100}%`,left:`${(f-i-m)/p*100}%`,width:`${m*2}px`,height:`${m*2}px`,opacity:"0.1",background:B.shadeColor(E,40),borderRadius:"50%",animation:"0.35s ripple linear"};Object.keys(h).forEach(b=>{d.style[b]=h[b]}),e.current.append(d),setTimeout(()=>{c(n)},350)})},remove:()=>{var t;(t=r.current)==null||t.then(n=>{var i,o;(o=((i=e.current)==null?void 0:i.getElementsByClassName(n))[0])==null||o.remove(),s.current="off"})}}};export{G as u};
