import{j as l}from"./jsx-runtime-vNq4Oc-g.js";import{r as t}from"./index-4g5l5LRQ.js";import{T as c}from"./TIcon-Vi1lColy.js";import{T as D}from"./TButton-wzgHEj5b.js";import{T as E}from"./TNumberField-7Ww_dG_5.js";import{r as k}from"./TValidatorRule-2e1-PYPO.js";const g=t.forwardRef((e,j)=>{const{onChangePageNumber:n}=e;t.useImperativeHandle(j,()=>({nextPage(){r()},nextPageSet(){o()},previousPage(){s()},previousPageSet(){m()},jumpToPage(){b()}}));const[i,p]=t.useState({min:1,max:1}),[_,d]=t.useState(e.pageNumber),N=t.useRef(null),P=1,v=t.useMemo(()=>{const a=[];return e.className&&a.push(e.className),a.join(" ")},[e.className]),h=t.useMemo(()=>{let a={};return e.style&&(a={...e.style}),a},[e.style]),f=t.useCallback((a,u)=>{const C=Math.floor((a-1)/10)*10+1,M=Math.min(u,C+9);return{min:C,max:M}},[]),T=t.useCallback(a=>a===e.pageNumber?"t-pagination__page-container__page__button--active":"",[e.pageNumber]),x=t.useMemo(()=>e.pageNumber===1?"t-pagination__nav-button-container__button--disabled":"",[e.pageNumber]),y=t.useMemo(()=>e.pageNumber===e.totalPages?"t-pagination__nav-button-container__button--disabled":"",[e.pageNumber,e.totalPages]),w=t.useCallback(a=>{n(a)},[n]),r=t.useCallback(()=>{if(e.pageNumber===e.totalPages)return;const a=e.pageNumber+1;n(a)},[n,e.pageNumber,e.totalPages]),o=t.useCallback(()=>{if(e.pageNumber===e.totalPages)return;const a=Math.min(i.max+1,e.totalPages);n(a)},[n,i.max,e.pageNumber,e.totalPages]),s=t.useCallback(()=>{if(e.pageNumber===1)return;const a=e.pageNumber-1;n(a)},[n,e.pageNumber]),m=t.useCallback(()=>{if(e.pageNumber===1)return;const a=Math.max(i.min-1,1);n(a)},[n,i.min,e.pageNumber]),S=t.useCallback(a=>{d(Number(a))},[i]),b=t.useCallback(()=>{var u;((u=N.current)==null?void 0:u.validate())===!0&&n&&n(_)},[_,i,n]);return t.useEffect(()=>{const a=f(e.pageNumber,e.totalPages);p(a),d(e.pageNumber)},[f,e.pageNumber,e.totalPages]),l.jsxs("nav",{className:`t-pagination ${v}`,style:h,"data-testid":"pagination-root",children:[l.jsxs("span",{className:"t-pagination__nav-button-container",children:[l.jsx(c,{className:`t-pagination__nav-button-container__button ${x}`,clickable:!0,small:!0,disabled:e.pageNumber===1,onClick:m,onKeyDownEnter:m,onKeyDownSpace:m,children:"keyboard_double_arrow_left"}),l.jsx(c,{className:`t-pagination__nav-button-container__button ${x}`,clickable:!0,small:!0,disabled:e.pageNumber===1,onClick:s,onKeyDownEnter:s,onKeyDownSpace:s,children:"keyboard_arrow_left"})]}),l.jsx("ul",{className:"t-pagination__page-container",children:Array(i.max-i.min+1).fill(null).map((a,u)=>i.min+u).map(a=>l.jsx("li",{className:"t-pagination__page-container__page",children:l.jsx("button",{className:`t-pagination__page-container__page__button ${T(a)}`,onClick:()=>w(a),children:a})},a))}),l.jsxs("span",{className:"t-pagination__nav-button-container",children:[l.jsx(c,{className:`t-pagination__nav-button-container__button ${y}`,clickable:!0,small:!0,disabled:e.pageNumber===e.totalPages,onClick:r,onKeyDownEnter:r,onKeyDownSpace:r,children:"keyboard_arrow_right"}),l.jsx(c,{className:`t-pagination__nav-button-container__button ${y}`,clickable:!0,small:!0,disabled:e.pageNumber===e.totalPages,onClick:o,onKeyDownEnter:o,onKeyDownSpace:o,children:"keyboard_double_arrow_right"})]}),!e.noJumper&&l.jsxs("div",{className:"t-pagination__jumper__container","data-testid":"pagination-jumper-root",children:[l.jsx(E,{ref:N,className:"t-pagination__jumper__container__page__field",value:_.toString(),min:P,max:e.totalPages,rules:[k.valueMin(P),k.valueMax(e.totalPages)],onChange:S,onKeyDownEnter:b}),l.jsx(D,{className:"t-pagination__jumper__container__button",onClick:b,children:e.jumperText})]})]})});g.defaultProps={jumperText:"바로가기"};g.displayName="TPagination";try{g.displayName="TPagination",g.__docgenInfo={description:"",displayName:"TPagination",props:{totalPages:{defaultValue:null,description:"",name:"totalPages",required:!0,type:{name:"number"}},pageNumber:{defaultValue:null,description:"",name:"pageNumber",required:!0,type:{name:"number"}},noJumper:{defaultValue:null,description:"",name:"noJumper",required:!1,type:{name:"boolean"}},jumperText:{defaultValue:{value:"바로가기"},description:"",name:"jumperText",required:!1,type:{name:"string"}},onChangePageNumber:{defaultValue:null,description:"",name:"onChangePageNumber",required:!0,type:{name:"(value: number) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{g as T};
