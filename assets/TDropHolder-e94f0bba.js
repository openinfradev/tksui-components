import{j as n}from"./jsx-runtime-ffb262ed.js";import{r as l}from"./index-76fb7be0.js";import{u as b}from"./UseClickOutside-961b265f.js";const o=l.forwardRef((e,f)=>{var u;const[r,s]=l.useState(!1),m=l.useRef(null);b(m,()=>i()),l.useImperativeHandle(f,()=>({open(){c()},close(){i()}}));const g=l.useMemo(()=>{const t=[];return e.className&&t.push(e.className),r&&t.push("t-drop-holder--open"),t.join(" ")},[e.className,r]),h=l.useCallback(t=>{const a=[];return t.disabled&&a.push("t-drop-holder__items__item--disabled"),t.divideSection&&a.push("t-drop-holder__items__item--divider"),a.join(" ")},[]),y=l.useMemo(()=>{let t={};return e.style&&(t={...t,...e.style}),t},[e.style]),_=l.useMemo(()=>e.alignment==="top-left"?{top:`calc(0px - ${e.offset})`,left:"0"}:e.alignment==="top-center"?{top:`calc(0px - ${e.offset})`,left:"50%"}:e.alignment==="top-right"?{top:`calc(0px - ${e.offset})`,right:"0"}:e.alignment==="bottom-left"?{top:`calc(100% + ${e.offset})`,left:"0"}:e.alignment==="bottom-center"?{top:`calc(100% + ${e.offset})`,left:"50%"}:e.alignment==="bottom-right"?{top:`calc(100% + ${e.offset})`,right:"0"}:{top:"100%",right:"0"},[e.alignment,e.offset]),d=l.useMemo(()=>e.alignment==="top-left"?{transform:"translateY(-100%) translateX(0)"}:e.alignment==="top-center"?{transform:"translateY(-100%) translateX(-50%)"}:e.alignment==="top-right"?{transform:"translateY(-100%) translateX(-100%)"}:e.alignment==="bottom-left"?{transform:"translateX(0)"}:e.alignment==="bottom-center"?{transform:"translateX(-50%)"}:e.alignment==="bottom-right"?{transform:"translateX(-100%)"}:{transform:"translateX(-50%)"},[e.alignment]),p=()=>{r?i():c()},x=(t,a)=>{t.stopPropagation(),a&&a(t),i()},c=()=>{s(!0)},i=()=>{s(!1)},v=l.useCallback(t=>t.itemTemplate?t.itemTemplate(t):e.itemTemplate?e.itemTemplate(t):n.jsx("div",{children:t[e.textKey]}),[e]);return n.jsxs("div",{className:`t-drop-holder ${g}`,style:y,id:e.id,ref:m,onClick:p,"data-testid":"drop-holder-root",children:[n.jsx("div",{className:"t-drop-holder__anchor",style:_,children:r&&(e.customItem?n.jsx("div",{className:"t-drop-holder__items t-drop-holder__items--custom",style:d,children:e.customItem}):n.jsx("div",{className:"t-drop-holder__items",style:d,children:(u=e.items)==null?void 0:u.map((t,a)=>n.jsx("div",{className:`t-drop-holder__items__item ${h(t)}`,onClick:N=>x(N,t.onClick),children:v(t)},a))}))}),n.jsx("div",{className:"t-drop-holder__holder",children:e.children})]})});o.defaultProps={alignment:"bottom-center",textKey:"text",offset:"4px"};o.displayName="TDropHolder";try{o.displayName="TDropHolder",o.__docgenInfo={description:"",displayName:"TDropHolder",props:{alignment:{defaultValue:{value:"'bottom-center' as DropHolderAlignment"},description:"",name:"alignment",required:!1,type:{name:"enum",value:[{value:'"top-right"'},{value:'"top-center"'},{value:'"top-left"'},{value:'"bottom-right"'},{value:'"bottom-center"'},{value:'"bottom-left"'}]}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"TDropHolderItem[]"}},itemTemplate:{defaultValue:null,description:"",name:"itemTemplate",required:!1,type:{name:"(item: TDropHolderItem) => ReactNode"}},textKey:{defaultValue:{value:"text"},description:"",name:"textKey",required:!1,type:{name:"string"}},customItem:{defaultValue:null,description:"",name:"customItem",required:!1,type:{name:"ReactNode"}},offset:{defaultValue:{value:"4px"},description:"",name:"offset",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}}}}}catch{}export{o as T};
