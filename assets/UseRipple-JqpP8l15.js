import{r as f}from"./index-4g5l5LRQ.js";import{u as $}from"./uniqueId-M9xs3r9t.js";function E(e,s){const r=e.startsWith("rgba"),i=e.match(/\d+(\.\d+)?/g).map(Number),l=r?i.pop():1,t=i.map(n=>Math.max(0,n-n*(s/100)));return r?`rgba(${t.join(",")},${l})`:`rgb(${t.join(",")})`}function k(e,s){const r=e.startsWith("rgba"),i=e.match(/\d+(\.\d+)?/g).map(Number),l=r?i.pop():1,t=i.map(n=>Math.min(255,n+(255-n)*(s/100)));return r?`rgba(${t.join(",")},${l})`:`rgb(${t.join(",")})`}const B={shadeColor:E,tintColor:k},x={uniqueId:$},g="t-ripple",j="span",G=e=>{const s=f.useRef("off"),r=f.useRef();return{register:t=>{if(t.type.includes("key")){const a=t;if(a.key!=="Enter"&&a.key!==" ")return;const o=t.target.getElementsByClassName(g);if(s.current==="on"||(o==null?void 0:o.length)>0)return}s.current="on";const n=x.uniqueId(`${g}-`);r.current=new Promise(a=>{const{x:c,y:o,width:p,height:u}=e.current.getBoundingClientRect(),{clientX:y=c+p/2,clientY:C=o+u/2}=t,m=Math.sqrt(p*p+u*u),d=document.createElement(j);d.classList.add(g),d.classList.add(n);const R=window.getComputedStyle(e.current).getPropertyValue("background-color"),h={position:"absolute",top:`${(C-o-m)/u*100}%`,left:`${(y-c-m)/p*100}%`,width:`${m*2}px`,height:`${m*2}px`,opacity:"0.1",background:B.shadeColor(R,40),borderRadius:"50%",animation:"0.35s ripple linear"};Object.keys(h).forEach(b=>{d.style[b]=h[b]}),e.current.append(d),setTimeout(()=>{a(n)},350)})},remove:()=>{var t;(t=r.current)==null||t.then(n=>{var c,o;const a=(c=e.current)==null?void 0:c.getElementsByClassName(n);a&&((o=a[0])==null||o.remove()),s.current="off"})}}};export{G as u};
