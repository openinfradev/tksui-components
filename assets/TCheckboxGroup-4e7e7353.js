import{j as u}from"./jsx-runtime-ffb262ed.js";import{r as i}from"./index-76fb7be0.js";import{u as b}from"./UseValidator-1d683c89.js";import{T as v}from"./TCheckbox-5e788b60.js";const n=i.forwardRef((e,d)=>{const l=b(e.value,e.rules,e.successMessage),s=i.useRef(null);i.useImperativeHandle(d,()=>({validate(){return l.validate()}}));function o(){const a=[];return e.className&&a.push(e.className),e.disabled&&a.push("t-checkbox-group--disabled"),l.result||a.push("t-checkbox-group--failure"),l.result&&l.message&&a.push("t-checkbox-group--success"),a.join(" ")}function c(){let a={};return e.style&&(a={...e.style}),a}function m(a,t){a===null?g(t):h(a)}function f(){e.rules&&l.clearValidation()}function y(a){const t=a.relatedTarget;e.rules&&!e.lazy&&!s.current.contains(t)&&l.validate()}function g(a){r(e.value.filter(t=>t!==a))}function h(a){r([...e.value,a])}function r(a){e.onChange(a)}return u.jsxs("div",{className:`t-checkbox-group ${o()}`,style:c(),ref:s,tabIndex:e.disabled?-1:0,onFocus:f,onBlur:y,id:e.id,"data-testid":"t-checkbox-group-root",children:[u.jsx("div",{className:"t-checkbox-group__container",children:e.items.map((a,t)=>u.jsx(v,{positiveValue:a[e.valueKey],negativeValue:null,value:e.value.some(x=>x===a[e.valueKey])?a[e.valueKey]:null,onChange:m,disabled:e.disabled||a.disabled,children:e.labelTemplate?e.labelTemplate(a):a[e.textKey]},t))}),e.rules&&u.jsx("div",{className:"t-checkbox-group__message",children:l.message})]})});n.defaultProps={textKey:"text",valueKey:"value",lazy:!0};n.displayName="TCheckboxGroup";try{n.displayName="TCheckboxGroup",n.__docgenInfo={description:"",displayName:"TCheckboxGroup",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"TCheckboxGroupValue"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"TCheckboxGroupItem[]"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},textKey:{defaultValue:{value:"text"},description:"",name:"textKey",required:!1,type:{name:"string"}},valueKey:{defaultValue:{value:"value"},description:"",name:"valueKey",required:!1,type:{name:"string"}},labelTemplate:{defaultValue:null,description:"",name:"labelTemplate",required:!1,type:{name:"(item: TCheckboxGroupItem) => string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: TCheckboxGroupValue) => void"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},lazy:{defaultValue:{value:"true"},description:"",name:"lazy",required:!1,type:{name:"boolean"}},rules:{defaultValue:null,description:"",name:"rules",required:!1,type:{name:"((value: any) => string | true)[]"}},successMessage:{defaultValue:null,description:"",name:"successMessage",required:!1,type:{name:"string"}}}}}catch{}export{n as T};
